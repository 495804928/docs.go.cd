<!DOCTYPE html>


<html>

<head>
  <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>End to end transport security | GoCD User Documentation</title>

<meta name="description" content="GoCD is an open source continuous delivery server that helps organizations increase productivity and deliver high quality software through automation."/>
<meta name="keywords" content="continuous delivery, software, continuous integration, open source, blog, software development, tools, automation, deployment pipelines, devops, techniques"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="canonical" href="https://docs.gocd.org/current/installation/ssl_tls/end_to_end_transport_security.html"/>
<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.6/lunr.min.js"></script>

<script type="text/javascript" src="../../javascripts/search/search.js"></script>
<script type="text/javascript" src="../../javascripts/navigation/navigation.js"></script>
<script src="../../javascripts/_common-to-all-pages.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../stylesheets/normalize.min.css"/>
<link rel="stylesheet" href="../../stylesheets/website.css"/>

<link rel="stylesheet" href="../../stylesheets/book.min.8438ef93d18b7624c901141b7df7f65da2050dae72fe7ef0d3d68a2ea15e2198.css"/>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-48357651-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


  
</head>

<body data-rel-permalink="/installation/ssl_tls/end_to_end_transport_security.html">
  <input type="checkbox" style="display: none" id="menu-control" />
  <main class="main-container">

    <aside class="book-menu fixed">
      <nav role="navigation">
<a href="https://www.gocd.org"> <img src="../../svg/product_ui_logo_go.svg" class="icon" /></a>


    



<script>
    (function() {
        var menu = document.querySelector('aside.book-menu nav')
        addEventListener('beforeunload', function(event) {
            localStorage.setItem('menu.scrollTop', menu.scrollTop)
        });
    })();
    function loadFunction(){
        var menu = document.querySelector('aside.book-menu nav')
        var top = parseInt(localStorage.getItem('menu.scrollTop'));
        $(menu).animate({
            scrollTop: top
        }, 10)
    }
    $(document).ready = loadFunction();
</script>


<style>
  nav ul a[href$="\2finstallation\2fssl_tls\2f end_to_end_transport_security.html"] {
  color: #004ed0;
  }
</style>

<div class="search-input-container">
  <input id="search" type="text" placeholder="Type to search">
</div>

<ul>
  <li class="level1">
    <a href="https://www.gocd.org/"><b>Go to GoCD.org</b></a>
  </li>
</ul>

<hr>

<ul>
  <li class="level1 has-children">
    <figure class="menu-arrow">
    <img src="../../images/arrow.png"/> 
</figure>

    <a href="#"><b>Welcome</b></a>
    <ul>
      <li class="level2"><a href="../../">Introduction</a></li>
      <li class="level2"><a href="../../introduction/concepts_in_go.html">Concepts in GoCD</a></li>
      <li class="level2"><a href="../../navigation/value_stream_map.html">Value Stream Map</a></li>
    </ul>
  </li>

  <li class="level1 has-children">
    <figure class="menu-arrow">
    <img src="../../images/arrow.png"/> 
</figure>

    <a href="#"><b>Installation</b></a>
    <ul>
      <li class="level2"><a href="../../installation/">Installing GoCD</a></li>
      <li class="level2"><a href="../../installation/system_requirements.html">System requirements</a></li>
      <li class="level2"><a href="../../installation/installing_go_server.html">Installing GoCD Server</a>
        <ul>
          <li class="level3"><a href="../../installation/install/server/linux.html">Linux</a></li>
          <li class="level3"><a href="../../installation/install/server/windows.html">Windows</a></li>
          <li class="level3"><a href="../../installation/install/server/osx.html">Mac OS X</a></li>
          <li class="level3"><a href="../../installation/install/server/zip.html">Generic Zip</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../../installation/installing_go_agent.html">Installing GoCD Agent</a>
        <ul>
          <li class="level3"><a href="../../installation/install/agent/linux.html">Linux</a></li>
          <li class="level3"><a href="../../installation/install/agent/windows.html">Windows</a></li>
          <li class="level3"><a href="../../installation/install/agent/osx.html">Mac OS X</a></li>
          <li class="level3"><a href="../../installation/install/agent/zip.html">Generic Zip</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../../installation/upgrading_go.html">Upgrading GoCD</a></li>
      <li class="level2"><a href="../../installation/configuring_server_details.html">Configuring Server Details</a></li>
      <li class="level2"><a href="../../installation/configure-reverse-proxy.html">Configure a Reverse Proxy</a></li>
      <li class="level2"><a href="../../installation/configure-agent-proxy.html">Configure an agent with proxy</a></li>
      <li class="level2"><a href="../../installation/ssl_tls_config.html">Configuring SSL/TLS</a>
        <ul>
          <li class="level3"><a href="../../installation/ssl_tls/setting_up_ciphers.html">Customizing Ciphers</a></li>
          <li class="level3"><a href="../../installation/ssl_tls/custom_server_certificate.html">Change SSL Certificates</a></li>
          <li class="level3"><a href="../../installation/ssl_tls/end_to_end_transport_security.html">End to end transport security</a></li>
          <li class="level3"><a href="../../installation/ssl_tls/configuring_hsts_header.html">Configuring HSTS Header</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../../installation/performance_tuning.html">Performance Tuning</a></li>
      <li class="level2"><a href="../../installation/hardware_specifications.html">Hardware Specifications</a></li>
    </ul>
  </li>

  <li class="level1 has-children">
    <figure class="menu-arrow">
    <img src="../../images/arrow.png"/> 
</figure>

    <a href="#"><b>Configuration</b></a>
    <ul>
      <li class="level2"><a href="../../configuration/pipelines.html">Pipelines</a>
        <ul>
          <li class="level3"><a href="../../configuration/quick_pipeline_setup.html">Add a New Pipeline</a></li>
          <li class="level3"><a href="../../configuration/admin_add_material.html">Add Material to Existing Pipeline</a></li>
          <li class="level3"><a href="../../configuration/admin_add_stage.html">Add Stage to Existing Pipeline</a></li>
          <li class="level3"><a href="../../configuration/admin_add_job.html">Add Job to Existing Stage</a></li>
          <li class="level3"><a href="../../configuration/admin_add_task.html">Add Task to Existing Job</a></li>
          <li class="level3"><a href="../../configuration/pipeline_templates.html">Pipeline Templates</a></li>
          <li class="level3"><a href="../../configuration/admin_use_parameters_in_configuration.html">Using parameters in Pipelines and Templates</a></li>
          <li class="level3"><a href="../../configuration/pipeline_labeling.html">Pipeline Labeling</a></li>
          <li class="level3"><a href="../../configuration/pipeline_scheduling.html">Pipeline Scheduling</a></li>
          <li class="level3"><a href="../../configuration/dev_choose_when_stage_runs.html">Choose When a Stage Runs</a></li>
          <li class="level3"><a href="../../configuration/admin_timer.html">Timer Trigger</a></li>
          <li class="level3"><a href="../../configuration/admin_lock_pipelines.html">Lock a Pipeline</a></li>
          <li class="level3"><a href="../../configuration/job_timeout.html">Job Timeout</a></li>
          <li class="level3"><a href="../../configuration/deleting_pipelines.html">Deleting Pipelines</a></li>
          <li class="level3"><a href="../../configuration/managing_dependencies.html">Managing Dependencies</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../../configuration/managing_a_build_cloud.html">Managing Agents</a>
        <ul>
          <li class="level3"><a href="../../configuration/elastic_agents.html">Elastic Agents</a></li>
          <li class="level3"><a href="../../configuration/clone_existing_agents.html">Clone/Copy Existing Agents</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../../configuration/managing_environments.html">Managing Environments</a></li>
      <li class="level2"><a href="../../configuration/managing_users.html">Managing Users</a>
        <ul>
          <li class="level3"><a href="../../configuration/dev_authentication.html">Authentication</a></li>
          <li class="level3"><a href="../../configuration/access_tokens.html">Access Tokens</a></li>
          <li class="level3"><a href="../../configuration/dev_authorization.html">Authorizing Users</a></li>
          <li class="level3"><a href="../../configuration/delegating_group_administration.html">Delegating Group Administration</a></li>
          <li class="level3"><a href="../../configuration/pipeline_group_admin_config.html">Pipeline Group Administration</a></li>
        </ul>
      </li>
      <li class="level2">Artifacts
        <ul>
          <li class="level3"><a href="../../configuration/dev_upload_test_report.html">Publish Reports and Artifacts</a></li>
          <li class="level3"><a href="../../configuration/managing_artifacts_and_reports.html">Managing Artifacts and Reports</a></li>
          <li class="level3"><a href="../../configuration/delete_artifacts.html">Auto Delete Artifacts</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../../configuration/admin_mailhost_info.html">Mailhost Information</a></li>
      <li class="level2"><a href="../../configuration/dev_notifications.html">Notifications</a></li>
      <li class="level2"><a href="../../configuration/configuration_reference.html">Reference</a></li>
    </ul>
  </li>

  <li class="level1 has-children">
    <figure class="menu-arrow">
    <img src="../../images/arrow.png"/> 
</figure>

    <a href="#"><b>Advanced Usage</b></a>
    <ul>
      <li class="level2"><a href="../../advanced_usage/pipelines_as_code.html">Pipelines as code</a></li>
      <li class="level2"><a href="../../advanced_usage/agent_auto_register.html">Auto Register a Remote Agent</a></li>
      <li class="level2"><a href="../../advanced_usage/admin_spawn_multiple_jobs.html">Spawn multiple instances of a Job</a></li>
      <li class="level2"><a href="../../advanced_usage/admin_install_multiple_agents.html">Multiple Agents on One Machine</a></li>
      <li class="level2"><a href="../../advanced_usage/dev_clean_up_when_cancel.html">Clean on Task Cancel</a></li>
      <li class="level2"><a href="../../advanced_usage/dev_conditional_task_execution.html">Conditional Task Execution</a></li>
      <li class="level2"><a href="../../advanced_usage/trigger_with_options.html">Trigger With Options</a></li>
      <li class="level2"><a href="../../advanced_usage/fan_in.html">Fan In</a></li>
      <li class="level2"><a href="../../advanced_usage/properties.html">Properties</a></li>
      <li class="level2"><a href="../../advanced_usage/logging.html">Logging</a></li>
      <li class="level2"><a href="../../advanced_usage/ui_testing.html">UI Testing</a></li>
      <li class="level2"><a href="../../advanced_usage/compare_pipelines.html">Compare Builds</a></li>
      <li class="level2"><a href="../../advanced_usage/stage_duration_chart.html">Graphs</a></li>
      <li class="level2"><a href="../../advanced_usage/command_repository.html">Command Repository</a></li>
      <li class="level2"><a href="../../advanced_usage/one_click_backup.html">Backup GoCD Server</a></li>
      <li class="level2"><a href="../../advanced_usage/cron_backup.html">Timer Based GoCD Server Backup</a></li>
      <li class="level2"><a href="../../advanced_usage/config_repo.html">Config Repository</a></li>
      <li class="level2"><a href="../../advanced_usage/other_config_options.html">Other Config Options</a></li>
      <li class="level2"><a href="../../advanced_usage/agent-health-check-api.html">Agent Health Check API</a></li>
      <li class="level2"><a href="../../advanced_usage/maintenance_mode.html">Maintenance Mode</a></li>
      <li class="level2"><a href="../../integration/">Integrating GoCD With Other Tools</a></li>
    </ul>
  </li>

  <li class="level1 has-children">
    <figure class="menu-arrow">
    <img src="../../images/arrow.png"/> 
</figure>

    <a href="#"><b>GoCD on Kubernetes</b></a>
    <ul>
      <li class="level2"><a href="../../gocd_on_kubernetes/introduction.html">Introduction</a></li>
      <li class="level2"><a href="../../gocd_on_kubernetes/gocd_helm_chart/setup_and_configuration.html">Setup and configuration</a>
        <ul>
          <li class="level3"><a href="../../gocd_on_kubernetes/gocd_helm_chart/setup.html">Setup</a></li>
          <li class="level3"><a href="../../gocd_on_kubernetes/gocd_helm_chart/configure_cluster.html">Configure your Kubernetes Cluster</a></li>
          <li class="level3"><a href="../../gocd_on_kubernetes/gocd_helm_chart/helm_install.html">Install the GoCD Helm chart</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../../gocd_on_kubernetes/designing_a_cd_pipeline/">Designing a CD Pipeline</a>
        <ul>
          <li class="level3"><a href="../../gocd_on_kubernetes/designing_a_cd_pipeline/creating_a_build_pipeline.html">Create a pipeline to build application</a></li>
          <li class="level3"><a href="../../gocd_on_kubernetes/designing_a_cd_pipeline/creating_a_test_pipeline.html">Create a pipeline to test the built application</a></li>
          <li class="level3"><a href="../../gocd_on_kubernetes/designing_a_cd_pipeline/creating_a_deploy_pipeline.html">Create a pipeline to deploy on Kubernetes</a></li>
          <li class="level3"><a href="../../gocd_on_kubernetes/designing_a_cd_pipeline/docker_workflows.html">Docker workflows</a></li>
          <li class="level3"><a href="../../gocd_on_kubernetes/gocd_helm_chart/configure_k8s_ea_plugin.html">Configure the Kubernetes Elastic Agent plugin</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../../gocd_on_kubernetes/gocd_helm_chart/troubleshooting.html">Troubleshooting</a></li>
    </ul>
  </li>

  <li class="level1 has-children">
    <figure class="menu-arrow">
    <img src="../../images/arrow.png"/> 
</figure>

    <a href="#"><b>Plugins in GoCD</b></a>
    <ul>
      <li class="level2"><a href="../../extension_points/">Available extension points</a></li>
      <li class="level2"><a href="../../extension_points/plugin_user_guide.html">Plugin User Guide</a></li>
      <li class="level2"><a href="../../extension_points/package_repository_extension.html">Package Repository Extension</a></li>
      <li class="level2"><a href="../../extension_points/yum_repository_poller.html">Yum Repository Poller</a></li>
      <li class="level2"><a href="../../extension_points/scm_extension.html">SCM Extension</a></li>
      <li class="level2"><a href="../../extension_points/task_extension.html">Task Extension</a></li>
    </ul>
  </li>

  <li class="level1 has-children">
    <figure class="menu-arrow">
    <img src="../../images/arrow.png"/> 
</figure>

    <a href="#"><b>FAQ/Troubleshooting</b></a>
    <ul>
      <li class="level2"><a href="../../faq/fixing_common_issues.html">Fixing common issues</a></li>
      <li class="level2"><a href="../../faq/artifact_integrity.html">Artifact integrity verification</a></li>
      <li class="level2"><a href="../../faq/rm_what_is_deployed.html">Check What's Deployed</a></li>
      <li class="level2"><a href="../../faq/concurrent_config_modifications.html">Concurrent Modifications to Config</a></li>
      <li class="level2"><a href="../../faq/docker_container_ssh_keys.html">Configure SSH Keys for dockerized GoCD</a></li>
      <li class="level2"><a href="../../faq/deploy_a_specific_build_to_an_environment.html">Deploy a Specific Build</a></li>
      <li class="level2"><a href="../../faq/rm_deploy_to_environment.html">Deploy to an environment</a></li>
      <li class="level2"><a href="../../faq/material_update_hung.html">GoCD unable to poll for changes</a></li>
      <li class="level2"><a href="../../faq/stage_old_config.html">Historical Configuration</a></li>
      <li class="level2"><a href="../../faq/job_rerun.html">How do I re-run jobs?</a></li>
      <li class="level2"><a href="../../faq/ordering_of_pipelines.html">Ordering of Pipelines</a></li>
      <li class="level2"><a href="../../faq/dependency_management.html">Run Tests against new Builds</a></li>
      <li class="level2"><a href="../../faq/admin_out_of_disk_space.html">Running out of Disk Space</a></li>
      <li class="level2"><a href="../../faq/dev_save_properties.html">Save Properties for a Build</a></li>
      <li class="level2"><a href="../../faq/dev_see_artifact_as_tab.html">See artifacts as sub-tabs</a></li>
      <li class="level2"><a href="../../faq/tester_what_has_changed.html">See changes in new binary</a></li>
      <li class="level2"><a href="../../faq/dev_use_current_revision_in_build.html">Using Environment variables</a></li>
      <li class="level2"><a href="../../faq/dev_understand_why_build_broken.html">Why the Build is Broken?</a></li>
    </ul>
  </li>

  <li class="level1 has-children">
    <figure class="menu-arrow">
    <img src="../../images/arrow.png"/> 
</figure>

    <a href="#"><b>Beta features</b></a>
    <ul>
      <li class="level2"><a href="../../beta/comment_on_pipeline_run.html">Comment on a pipeline run</a></li>
    </ul>
  </li>
</ul>




</nav>
    </aside>

    
    <div class="navigation-bar">
    <a href="#" class="navigation navigation-prev">
        <i class="fa fa-angle-left"></i> &lt; Previous Page
    </a>

    <a href="#" class="navigation navigation-next">
        <i class="fa fa-angle-right"></i> Next Page &gt;
    </a>
</div>

    <div class="book-page ">
      <header class="align-center justify-between book-header">
  <label for="menu-control">
    <img src="../../svg/menu.svg" />
  </label>
  <strong>End to end transport security</strong>
</header>

      
<div class="has-results">
    <h1 id="searchResultTitle" class="search-results-title hide"></h1>
    <ul id="results"></ul>
</div>
<div class="no-results hide">
    Your query search resulted in no results.
</div>

      
<article class="markdown">

<h1 id="configure-end-to-end-transport-security">Configure end-to-end transport security</h1>

<p><strong>Note:</strong> To ensure end-to-end transport encryption, please ensure that both your GoCD server and agent are running on atleast version 16.7.0</p>

<p>This section will help you configure and improve the security of the agent-to-server communication using correct SSL/TLS certificates and verification process.</p>

<p>The GoCD agent allows for some configuration to be able to configure and secure the end-to-end transport security to varying security levels.</p>

<p>The agent by default trusts any and all certificates offered to it, which may possibly allow for MITM attacks. If you&rsquo;d like to improve security further, by providing your own server certificate, you may provide one of the following options before starting the agent process.</p>

<p><code>java -jar agent-bootstrapper.jar -serverUrl https://ci.example.com:8154/go [-rootCertFile /path/to/root-cert.pem] [-sslVerificationMode FULL|NONE|NO_VERIFY_HOST]</code></p>

<h2 id="the-rootcertfile-option">The <code>-rootCertFile</code> option</h2>

<p>The <code>-rootCertFile</code> option must point to the root certificate from the GoCD server (If you&rsquo;re using a certificate signed by a known CA, you may not need to pass the rootCertFile if the root certificate is present in the default JVM trust store). You can export it from firefox using the <a href="https://support.mozilla.org/en-US/kb/page-info-window-view-technical-details-about-page#w_security">page info window</a> by clicking &ldquo;export&rdquo; from the certificate details page as shown below:</p>

<p><img src="../../images/agent_tls_cert_export_from_firefox.png" alt="Download TLS certificate from GoCD server using Firefox" /></p>

<p>If you have the openssl binary available then you can also run the command below to export the root certificate from the GoCD server:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">openssl s_client -showcerts -connect HOSTNAME:PORT &lt;/dev/null <span style="color:#666">2</span>&gt;/dev/null|openssl x509 -outform PEM</code></pre></div>
<h2 id="the-sslverificationmode-option">The <code>-sslVerificationMode</code> option</h2>

<p>The <code>-sslVerificationMode</code> option allows you to choose the level of verification you&rsquo;d want.</p>

<ul>
<li><code>NONE</code> (the default) will disable all SSL/TLS verification.</li>
<li><code>NO_VERIFY_HOST</code> will perform certificate check, but ignore verification of the server hostname.</li>
<li><code>FULL</code> will perform complete certificate validation.</li>
</ul>

<h1 id="configuring-the-agent">Configuring the agent</h1>

<h2 id="windows">Windows</h2>

<h3 id="if-you-re-running-the-gocd-agent-as-a-windows-service">If you&rsquo;re running the GoCD agent as a windows service</h3>

<p>Edit the file (if it already does not exist) <code>GO_AGENT_INSTALL_DIR/config/wrapper-properties.conf</code> and add the following properties to it</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#080;font-style:italic"># config/wrapper-properties.conf</span>

<span style="color:#080;font-style:italic"># set the ssl verification mode</span>
wrapper.app.parameter.4<span style="color:#666">=</span>-sslVerificationMode
wrapper.app.parameter.5<span style="color:#666">=</span>FULL

<span style="color:#080;font-style:italic"># set the ssl root cert path (if the server is using a certificate that is not signed by a well known certificate-authority)</span>
wrapper.app.parameter.6<span style="color:#666">=</span>-rootCertFile
wrapper.app.parameter.7<span style="color:#666">=</span>C:<span style="color:#b62;font-weight:bold">\P</span>ath<span style="color:#b62;font-weight:bold">\T</span>o<span style="color:#b62;font-weight:bold">\r</span>oot-cert.pem</code></pre></div>
<h3 id="if-you-re-running-the-gocd-agent-via-a-batch-file">If you&rsquo;re running the GoCD agent via a batch file</h3>

<p>Setup the system environment <code>AGENT_BOOTSTRAPPER_ARGS</code> before running the batch file. You may either <code>set</code> it from the command line, or if you&rsquo;d like to make the change permanent, you may choose to set it from the &ldquo;<strong>Advanced system settings</strong>&rdquo; dialog from &ldquo;<strong>Control Panel</strong>&rdquo;.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">C:<span style="color:#b62;font-weight:bold">\&gt;</span> <span style="color:#a2f">set</span> <span style="color:#b8860b">AGENT_BOOTSTRAPPER_ARGS</span><span style="color:#666">=</span>-rootCertFile C:<span style="color:#b62;font-weight:bold">\P</span>ath<span style="color:#b62;font-weight:bold">\T</span>o<span style="color:#b62;font-weight:bold">\r</span>oot-cert.pem -sslVerificationMode FULL
C:<span style="color:#b62;font-weight:bold">\&gt;</span> agent.cmd</code></pre></div>
<h2 id="linux">Linux</h2>

<h3 id="if-you-re-running-the-gocd-agent-as-a-service">If you&rsquo;re running the GoCD agent as a service</h3>

<p>Edit the file <code>/etc/default/go-agent</code> and add the following lines to it</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#080;font-style:italic"># /etc/default/go-agent</span>

<span style="color:#b8860b">AGENT_BOOTSTRAPPER_ARGS</span><span style="color:#666">=</span><span style="color:#b44">&#34;-rootCertFile /path/to/root-cert.pem -sslVerificationMode FULL&#34;</span></code></pre></div>
<h3 id="if-you-re-running-the-gocd-agent-from-the-command-line">If you&rsquo;re running the GoCD agent from the command line</h3>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ <span style="color:#a2f">export</span> <span style="color:#b8860b">GO_SERVER_URL</span><span style="color:#666">=</span><span style="color:#b44">&#39;https://ci.example.com:8154/go&#39;</span>
$ <span style="color:#a2f">export</span> <span style="color:#b8860b">AGENT_BOOTSTRAPPER_ARGS</span><span style="color:#666">=</span><span style="color:#b44">&#34;-rootCertFile /path/to/root-cert.pem -sslVerificationMode FULL&#34;</span>
$ ./agent.sh</code></pre></div></article>

      
<div class="align-center book-git-footer justify-between">
  

  
  <div>
    <a href="#" class="navigation navigation-prev">
      <i class="fa fa-angle-left"></i> &lt; Previous Page
    </a>
  </div>
  

  
  <div>
    <a id="suggest-edits" href="https://github.com/gocd/docs.go.cd/edit/master/content/installation/ssl_tls/end_to_end_transport_security.md" target="_blank" rel="noopener">
      <img src="../../svg/code-fork.svg" /> Suggest edits to this page
    </a>
  </div>
  

  
  <div>
    <a href="#" class="navigation navigation-next">
      <i class="fa fa-angle-right"></i> Next Page &gt;
    </a>
  </div>
  

</div>


    </div>

    

  
  <aside class="book-toc fixed">
    <nav id="TableOfContents">
<ul>
<li><a href="#configure-end-to-end-transport-security">Configure end-to-end transport security</a>
<ul>
<li><a href="#the-rootcertfile-option">The <code>-rootCertFile</code> option</a></li>
<li><a href="#the-sslverificationmode-option">The <code>-sslVerificationMode</code> option</a></li>
</ul></li>
<li><a href="#configuring-the-agent">Configuring the agent</a>
<ul>
<li><a href="#windows">Windows</a>
<ul>
<li><a href="#if-you-re-running-the-gocd-agent-as-a-windows-service">If you&rsquo;re running the GoCD agent as a windows service</a></li>
<li><a href="#if-you-re-running-the-gocd-agent-via-a-batch-file">If you&rsquo;re running the GoCD agent via a batch file</a></li>
</ul></li>
<li><a href="#linux">Linux</a>
<ul>
<li><a href="#if-you-re-running-the-gocd-agent-as-a-service">If you&rsquo;re running the GoCD agent as a service</a></li>
<li><a href="#if-you-re-running-the-gocd-agent-from-the-command-line">If you&rsquo;re running the GoCD agent from the command line</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
  </aside>



  </main>

  
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-48357651-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</body>

</html>
